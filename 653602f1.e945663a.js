(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{68:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return l})),o.d(t,"metadata",(function(){return i})),o.d(t,"rightToc",(function(){return c})),o.d(t,"default",(function(){return u}));var r=o(2),n=o(6),a=(o(0),o(89)),l={id:"docker_troubleshoot",title:"Troubleshooting",sidebar_label:"Troubleshooting"},i={unversionedId:"deploy/docker_troubleshoot",id:"deploy/docker_troubleshoot",isDocsHomePage:!1,title:"Troubleshooting",description:"Troubleshooting",source:"@site/docs/deploy/docker_troubleshooting.md",slug:"/deploy/docker_troubleshoot",permalink:"/netsage-pipeline/docs/deploy/docker_troubleshoot",editUrl:"https://github.com/netsage-project/netsage-pipeline/edit/master/docs/deploy/docker_troubleshooting.md",version:"current",sidebar_label:"Troubleshooting",sidebar:"Docker",previous:{title:"Docker Advanced Installation Guide",permalink:"/netsage-pipeline/docs/deploy/docker_advanced"}},c=[{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Data Flow issues:",id:"data-flow-issues",children:[]},{value:"Resource Limitations",id:"resource-limitations",children:[]}]}],s={rightToc:c};function u(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"troubleshooting"},"Troubleshooting"),Object(a.b)("h3",{id:"data-flow-issues"},"Data Flow issues:"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Troubleshooting checklist:")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Make sure you configured your routers to point to the correct address/port where the collector is running.\xa0 hostname:9999 is the default."),Object(a.b)("li",{parentName:"ul"},"Make sure you created a .env file and updated the settings accordingly."),Object(a.b)("li",{parentName:"ul"},"sensorName especially since that identifies the source of the data."),Object(a.b)("li",{parentName:"ul"},"check the logs of the various components to see if anything jumps out as being invalid.\xa0 docker-compose logs -f <service_label>")),Object(a.b)("h3",{id:"resource-limitations"},"Resource Limitations"),Object(a.b)("p",null,"If you are running a lot of data sometimes docker may need to be allocated more memory. The most\nlikely culprit is logstash which is usually only allocated 1GB of RAM. You'll need to update the jvm.options file to grant it more memory."),Object(a.b)("p",null,"Please see the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/deploy/docker_advanced#customize-logstash-settings"}),"advaned section")," for details on how to customize logstash"),Object(a.b)("p",null,"Applying this snippet to logstash may help. Naturally the values will have to change."),Object(a.b)("p",null,"You may also try the pattern below, if that still isn't enough."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),"environment: + LS_JAVA_OPTS=-Xmx3g\n")),Object(a.b)("p",null,"Alternatively you may also try doing this:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),'deploy:\n  resources:\n    limits:\n      cpus: "0.50"\n      memory: 50M\n    reservations:\n      cpus: "0.25"\n      memory: 20M\n')),Object(a.b)("p",null,"Reference: ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://docs.docker.com/compose/compose-file/#resources"}),"https://docs.docker.com/compose/compose-file/#resources")))}u.isMDXComponent=!0},89:function(e,t,o){"use strict";o.d(t,"a",(function(){return p})),o.d(t,"b",(function(){return m}));var r=o(0),n=o.n(r);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=n.a.createContext({}),u=function(e){var t=n.a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=u(e.components);return n.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},b=n.a.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(o),b=r,m=p["".concat(l,".").concat(b)]||p[b]||d[b]||a;return o?n.a.createElement(m,i(i({ref:t},s),{},{components:o})):n.a.createElement(m,i({ref:t},s))}));function m(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,l=new Array(a);l[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var s=2;s<a;s++)l[s]=o[s];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,o)}b.displayName="MDXCreateElement"}}]);