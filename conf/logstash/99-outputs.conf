output {
  if [type] == "flow" {

       #-- To send results to rabbitmq on NETSAGE-ARCHIVE.grnoc.iu.edu
        rabbitmq {
            host => "140.182.45.150"
            user => "<USERNAME>"
            password => "<PASSWORD>"
            exchange_type => "direct"
            exchange => "amq.direct"
            key => "netsage_archive_input"
            connection_timeout => 10000
            durable => true
            persistent => false
        }

       #-- To put results into a dated index in elasticsearch on NETSAGE-ELK1.grnoc.iu.edu
        elasticsearch {
            hosts => "140.182.45.215"
            index => "netsage-%{+YYYY.MM.dd}"

           # A template file can specify data types, other than int, float, and string, for elasticsearch
        #  # Import this template (applies to index = netsage-* only!)
        #    template => "/home/lensman/netsage-template.json"  ##########
        #  # Name for the imported template
        #    template_name => "netsage-template"
        #  # Always use the most recent version of the named template
        #    template_overwrite => true
        }

       #-- Also send results to rabbitmq on NETSAGE-ELK1.grnoc.iu.edu
        rabbitmq {
            host => "140.182.45.215"
            user => "<USERNAME>"
            password => "<PASSWORD>"
            exchange_type => "direct"
            exchange => "netsage.direct"
            key => "netsage_archive_input"
            connection_timeout => 10000
            durable => true
            persistent => false
        }

  }
}
